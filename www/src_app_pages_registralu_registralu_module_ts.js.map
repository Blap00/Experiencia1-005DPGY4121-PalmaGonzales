{"version":3,"file":"src_app_pages_registralu_registralu_module_ts.js","mappings":"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","sources":["./src/app/pages/registralu/registralu-routing.module.ts","./src/app/pages/registralu/registralu.module.ts","./src/app/pages/registralu/registralu.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegistraluPage } from './registralu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistraluPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegistraluPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegistraluPageRoutingModule } from './registralu-routing.module';\n\nimport { RegistraluPage } from './registralu.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RegistraluPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [RegistraluPage]\n})\nexport class RegistraluPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core'; \nimport { UsuarioAluService, Datos } from 'src/app/services/usuario-alu.service';\nimport { Platform, ToastController, IonList, NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport {\n  FormGroup,\n  FormControl,\n  Validators,\n  FormBuilder,\n} from '@angular/forms';\nimport {AlertController} from '@ionic/angular';\nimport { identity } from 'rxjs';\n\ninterface Carrera{\n  name: string;\n  value: number;\n}\ninterface Semestre{\n  sem: string;\n  value: number;\n}\ninterface datousu{\n  id: number;\n  usuario: String,\n  contrasenna: String, \n  recontrasenna:String,   \n  carrera: String,\n  semestre: String,\n  modified: number\n}\n\n@Component({\n  selector: 'app-registralu',\n  templateUrl: './registralu.page.html',\n  styleUrls: ['./registralu.page.scss'],\n})\nexport class RegistraluPage implements OnInit {\n  datos: Datos[]= [];\n  formularioRegistro:FormGroup;\n  newUsuario: Datos = <Datos>{};\n  newDato: Datos= <Datos>{};\n  @ViewChild('myList')myList : IonList\n  data: Datos=<Datos>{};\n  usuario:datousu\n  usuarionue={\n    id: Date.now(),\n    usuario:'',\n    contrasenna:'',  \n    recontrasenna:'',  \n    carrera:'',\n    semestre:'',\n    modified: 0,\n}\n\n  constructor(\n    private usuarioservice:UsuarioAluService,\n    private router:Router,\n    private storageService: UsuarioAluService,\n    private plt: Platform, private toastController: ToastController,\n    private alertController : AlertController,\n    private navController: NavController,\n    private fb: FormBuilder) \n    {\n      this.formularioRegistro = this.fb.group({\n        'id': this.usuarionue.id,\n        'usuario': new FormControl(\"\", Validators.required),\n        'contrasenna': new FormControl(\"\", Validators.required),\n        'recontrasenna': new FormControl(\"\", Validators.required),\n        'carrera': new FormControl(\"\",Validators.required),\n        'semestre': new FormControl(\"\",Validators.required),\n        'modified': this.data.modified,\n      }\n    )\n      this.plt.ready().then(()=>{\n        this.loadDatos();   \n      })\n     }\n  //get\n  loadDatos(){\n    this.storageService.getDatos().then(dato=>{\n        this.datos=dato;\n    })\n  }\n  //Create\n  submitForm(){\n    var form = this.formularioRegistro.value;\n    var IsExist= false;\n    var IsValidPass= false;\n    if(this.formularioRegistro.invalid){\n      console.log(\"alerta error invalido\")\n    }\n    else{\n      \n      this.newUsuario.usuario = form.usuario,\n      this.newUsuario.id = form.id,\n      this.newUsuario.contrasenna = form.contrasenna,\n      this.newUsuario.recontrasenna = form.recontrasenna,\n      this.newUsuario.modified = form.modified,\n      this.newUsuario.carrera = form.carrera,\n      this.newUsuario.semestre = form.semestre,\n      \n      this.usuarioservice.getDatos().then(data=>{\n        this.datos=data;\n        if(!data || data.length==0){\n          this.usuarioservice.addDatos(this.newUsuario).then(dato=>{\n            this.newUsuario=<Datos>{};\n            this.showToast('Â¡Usuario creado con exito!')\n          });\n        }\n        else{\n          for(let obj of this.datos){\n            if(this.newUsuario.usuario==obj.usuario){\n              IsExist=true;\n            }\n            if(this.newUsuario.contrasenna== this.newUsuario.recontrasenna){\n              IsValidPass=true;\n            }\n          }\n          if(IsExist){\n            console.log(\"ERROR, YA EXISTE, FALSO\")\n            this.formularioRegistro.reset();\n          }\n          else if(IsValidPass==false){\n            console.log(\"Reingrese su contrasenna y validacion\")\n            this.formularioRegistro.reset();\n          }\n          else{\n            this.usuarioservice.addDatos(this.newUsuario).then(data=>{\n                this.router.navigate(['inisesalu'])    \n                console.log(\"No existe el usuario, se permite registrar\")\n              this.newUsuario=<Datos>{};\n              this.showToast(\"Se creo usuario\")\n            }); \n            this.formularioRegistro.reset();\n\n          }\n        }\n      })\n    }\n  }\n  //update\n  updateDatos(dato:Datos){\n    dato.usuario= `UPDATED: ${dato.usuario}`;\n    dato.modified= Date.now();\n    this.storageService.updateDatos(dato).then(item=>{\n      this.showToast('Elemento Actualizado!')\n      this.myList.closeSlidingItems();\n      this.loadDatos();\n    })\n  }\n  //delete\n  deleteDatos(dato:Datos){\n    this.storageService.deleteDatos(dato.id).then(item=>{\n      this.showToast('Elemento Eliminado!');\n      this.myList.closeSlidingItems();\n      this.loadDatos();\n    })\n  }\n  async showToast(msg){\n    const toast = await this.toastController.create({\n      message: msg,\n      duration:2000\n    });\n    toast.present();\n  }\n  ngOnInit() {\n    if(localStorage.getItem('sesnop')){\n      localStorage.setItem('sesnop','true')\n      localStorage.removeItem('ingresaalu')\n      localStorage.removeItem('ingresapro')\n    }\n    else if(localStorage.getItem('ingresapro')){\n      localStorage.removeItem('sesnop')\n      localStorage.removeItem('ingresaalu')\n      localStorage.setItem('ingresapro','true')\n      this.navController.navigateRoot(['/inicio-inicio'])\n    }\n    else{\n      localStorage.removeItem('sesnop')\n      localStorage.removeItem('ingresapro')\n      localStorage.setItem('ingresaalu','true')\n      this.navController.navigateRoot(['/alumno'])\n    }\n  }\n  carrera: Carrera[]=[\n    {\n      name: 'Ingenieria Informatica',\n      value: 1,\n    },\n    {\n      name: 'Analista Programador',\n      value: 2,\n    },\n    {\n      name: 'Ingenieria Mecanica',\n      value: 3,\n    },\n    {\n      name: 'Auditor contador',\n      value: 4,\n    },\n    \n  ];\n  semestre: Semestre[]=[\n    {\n      sem: 'Primer semestre',\n      value: 1,\n    },\n    {\n      sem: 'Segundo Semestre',\n      value: 2,\n    },\n    {\n      sem: 'Tercer semestre',\n      value: 3,\n    },\n    {\n      sem: 'Cuarto Semestre',\n      value: 4,\n    },\n    \n  ];\n}"],"names":["Component","ViewChild","UsuarioAluService","Platform","ToastController","NavController","Router","FormControl","Validators","FormBuilder","AlertController","RegistraluPage","constructor","usuarioservice","router","storageService","plt","toastController","alertController","navController","fb","id","Date","now","usuario","contrasenna","recontrasenna","carrera","semestre","modified","name","value","sem","formularioRegistro","group","usuarionue","required","data","ready","then","loadDatos","getDatos","dato","datos","submitForm","form","IsExist","IsValidPass","invalid","console","log","newUsuario","length","addDatos","showToast","obj","reset","navigate","updateDatos","item","myList","closeSlidingItems","deleteDatos","msg","toast","create","message","duration","present","ngOnInit","localStorage","getItem","setItem","removeItem","navigateRoot","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}