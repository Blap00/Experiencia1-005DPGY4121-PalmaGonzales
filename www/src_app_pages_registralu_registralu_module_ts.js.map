{"version":3,"file":"src_app_pages_registralu_registralu_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEJ;AAEnD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4DAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACmB;AAErB;AAE6B;AAEvB;IAYtC,oBAAoB,SAApB,oBAAoB;CAAG;AAAvB,oBAAoB;IAVhC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,mFAA2B;YAC3B,+DAAmB;SACpB;QACD,YAAY,EAAE,CAAC,4DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBjC;AACA;AACA;AACA;AACA;AAMA;IAyBaU,cAAc,SAAdA,cAAc;EAiBzBC,YACUC,cADV,EAEUC,MAFV,EAGUC,cAHV,EAIUC,GAJV,EAIiCC,eAJjC,EAKUC,eALV,EAMUC,EANV,EAMyB;IALf;IACA;IACA;IACA;IAAuB;IACvB;IACA;IAtBV,aAAgB,EAAhB;IAEA,kBAA2B,EAA3B;IACA,eAAuB,EAAvB;IAEA,YAAmB,EAAnB;IAEA,kBAAW;MACTC,EAAE,EAAE,CADK;MAETC,OAAO,EAAC,EAFC;MAGTC,WAAW,EAAC,EAHH;MAITC,aAAa,EAAC,EAJL;MAKTC,OAAO,EAAC,EALC;MAMTC,QAAQ,EAAC,EANA;MAOTC,QAAQ,EAAE;IAPD,CAAX;IA+HA,eAAmB,CACjB;MACEC,IAAI,EAAE,wBADR;MAEEC,KAAK,EAAE;IAFT,CADiB,EAKjB;MACED,IAAI,EAAE,sBADR;MAEEC,KAAK,EAAE;IAFT,CALiB,EASjB;MACED,IAAI,EAAE,qBADR;MAEEC,KAAK,EAAE;IAFT,CATiB,EAajB;MACED,IAAI,EAAE,kBADR;MAEEC,KAAK,EAAE;IAFT,CAbiB,CAAnB;IAmBA,gBAAqB,CACnB;MACEC,GAAG,EAAE,iBADP;MAEED,KAAK,EAAE;IAFT,CADmB,EAKnB;MACEC,GAAG,EAAE,kBADP;MAEED,KAAK,EAAE;IAFT,CALmB,EASnB;MACEC,GAAG,EAAE,iBADP;MAEED,KAAK,EAAE;IAFT,CATmB,EAanB;MACEC,GAAG,EAAE,iBADP;MAEED,KAAK,EAAE;IAFT,CAbmB,CAArB;IAjII,KAAKE,kBAAL,GAA0B,KAAKX,EAAL,CAAQY,KAAR,CAAc;MACtC,MAAM,KAAKC,IAAL,CAAUZ,EADsB;MAEtC,WAAW,IAAIb,uDAAJ,CAAgB,EAAhB,EAAoBC,+DAApB,CAF2B;MAGtC,eAAe,IAAID,uDAAJ,CAAgB,EAAhB,EAAoBC,+DAApB,CAHuB;MAItC,iBAAiB,IAAID,uDAAJ,CAAgB,EAAhB,EAAoBC,+DAApB,CAJqB;MAKtC,WAAW,IAAID,uDAAJ,CAAgB,EAAhB,EAAmBC,+DAAnB,CAL2B;MAMtC,YAAY,IAAID,uDAAJ,CAAgB,EAAhB,EAAmBC,+DAAnB,CAN0B;MAOtC,YAAY,KAAKwB,IAAL,CAAUN;IAPgB,CAAd,CAA1B;IAUA,KAAKV,GAAL,CAASkB,KAAT,GAAiBC,IAAjB,CAAsB,MAAI;MACxB,KAAKC,SAAL;IACD,CAFD;EAGA,CAtCqB,CAuCzB;;;EACAA,SAAS;IACP,KAAKrB,cAAL,CAAoBsB,QAApB,GAA+BF,IAA/B,CAAoCG,IAAI,IAAE;MACtC,KAAKC,KAAL,GAAWD,IAAX;IACH,CAFD;EAGD,CA5CwB,CA6CzB;;;EACAE,UAAU;IACR,IAAIC,IAAI,GAAG,KAAKX,kBAAL,CAAwBF,KAAnC;IACA,IAAIc,OAAO,GAAE,KAAb;IACA,IAAIC,WAAW,GAAE,KAAjB;;IACA,IAAG,KAAKb,kBAAL,CAAwBc,OAA3B,EAAmC;MACjCC,OAAO,CAACC,GAAR,CAAY,uBAAZ;IACD,CAFD,MAGI;MACF,KAAKC,UAAL,CAAgB1B,OAAhB,GAA0BoB,IAAI,CAACpB,OAA/B,EACA,KAAK0B,UAAL,CAAgB3B,EAAhB,GAAqBqB,IAAI,CAACrB,EAD1B,EAEA,KAAK2B,UAAL,CAAgBzB,WAAhB,GAA8BmB,IAAI,CAACnB,WAFnC,EAGA,KAAKyB,UAAL,CAAgBxB,aAAhB,GAAgCkB,IAAI,CAAClB,aAHrC,EAIA,KAAKwB,UAAL,CAAgBrB,QAAhB,GAA2Be,IAAI,CAACf,QAJhC,EAKA,KAAKqB,UAAL,CAAgBvB,OAAhB,GAA0BiB,IAAI,CAACjB,OAL/B,EAMA,KAAKuB,UAAL,CAAgBtB,QAAhB,GAA2BgB,IAAI,CAAChB,QANhC,EAQA,KAAKZ,cAAL,CAAoBwB,QAApB,GAA+BF,IAA/B,CAAoCH,IAAI,IAAE;QACxC,KAAKO,KAAL,GAAWP,IAAX;;QACA,IAAG,CAACA,IAAD,IAASA,IAAI,CAACgB,MAAL,IAAa,CAAzB,EAA2B;UACzB,KAAKnC,cAAL,CAAoBoC,QAApB,CAA6B,KAAKF,UAAlC,EAA8CZ,IAA9C,CAAmDG,IAAI,IAAE;YACvD,KAAKS,UAAL,GAAuB,EAAvB;YACA,KAAKG,SAAL,CAAe,4BAAf;UACD,CAHD;QAID,CALD,MAMI;UACF,KAAI,IAAIC,GAAR,IAAe,KAAKZ,KAApB,EAA0B;YACxB,IAAG,KAAKQ,UAAL,CAAgB1B,OAAhB,IAAyB8B,GAAG,CAAC9B,OAAhC,EAAwC;cACtCqB,OAAO,GAAC,IAAR;YACD;;YACD,IAAG,KAAKK,UAAL,CAAgBzB,WAAhB,IAA8B,KAAKyB,UAAL,CAAgBxB,aAAjD,EAA+D;cAC7DoB,WAAW,GAAC,IAAZ;YACD;UACF;;UACD,IAAGD,OAAH,EAAW;YACTG,OAAO,CAACC,GAAR,CAAY,yBAAZ;YACA,KAAKhB,kBAAL,CAAwBsB,KAAxB;UACD,CAHD,MAIK,IAAGT,WAAW,IAAE,KAAhB,EAAsB;YACzBE,OAAO,CAACC,GAAR,CAAY,uCAAZ;YACA,KAAKhB,kBAAL,CAAwBsB,KAAxB;UACD,CAHI,MAID;YACF,KAAKvC,cAAL,CAAoBoC,QAApB,CAA6B,KAAKF,UAAlC,EAA8CZ,IAA9C,CAAmDH,IAAI,IAAE;cACvD;cACA;cACE,KAAKlB,MAAL,CAAYuC,QAAZ,CAAqB,CAAC,WAAD,CAArB;cACAR,OAAO,CAACC,GAAR,CAAY,4CAAZ,EAJqD,CAKvD;cACA;cACA;cACA;;cACA,KAAKC,UAAL,GAAuB,EAAvB;cACA,KAAKG,SAAL,CAAe,iBAAf;YACD,CAXD;YAYA,KAAKpB,kBAAL,CAAwBsB,KAAxB;UAED;QACF;MACF,CA1CD,CARA;IAmDD;EACF,CA1GwB,CA2GzB;;;EACAE,WAAW,CAAChB,IAAD,EAAW;IACpBA,IAAI,CAACjB,OAAL,GAAc,YAAYiB,IAAI,CAACjB,OAAO,EAAtC;IACAiB,IAAI,CAACZ,QAAL,GAAe6B,IAAI,CAACC,GAAL,EAAf;IACA,KAAKzC,cAAL,CAAoBuC,WAApB,CAAgChB,IAAhC,EAAsCH,IAAtC,CAA2CsB,IAAI,IAAE;MAC/C,KAAKP,SAAL,CAAe,uBAAf;MACA,KAAKQ,MAAL,CAAYC,iBAAZ;MACA,KAAKvB,SAAL;IACD,CAJD;EAKD,CApHwB,CAqHzB;;;EACAwB,WAAW,CAACtB,IAAD,EAAW;IACpB,KAAKvB,cAAL,CAAoB6C,WAApB,CAAgCtB,IAAI,CAAClB,EAArC,EAAyCe,IAAzC,CAA8CsB,IAAI,IAAE;MAClD,KAAKP,SAAL,CAAe,qBAAf;MACA,KAAKQ,MAAL,CAAYC,iBAAZ;MACA,KAAKvB,SAAL;IACD,CAJD;EAKD;;EACKc,SAAS,CAACW,GAAD,EAAI;IAAA;;IAAA;MACjB,MAAMC,KAAK,SAAS,KAAI,CAAC7C,eAAL,CAAqB8C,MAArB,CAA4B;QAC9CC,OAAO,EAAEH,GADqC;QAE9CI,QAAQ,EAAC;MAFqC,CAA5B,CAApB;MAIAH,KAAK,CAACI,OAAN;IALiB;EAMlB;;EACDC,QAAQ,IAEP;;AAtIwB;;;QAlClBhE,mFAAiBA;;QAEjBG,mDAAMA;;QAFNH,mFAAiBA;;QACjBC,oDAAQA;;QAAEC,2DAAeA;;QAQ1BK,2DAAeA;;QAFrBD,uDAAWA;;;;;UAgCVP,oDAASA;IAAAkE,OAAC,QAAD;;;AALCzD,cAAc,sDAL1BV,wDAAS,CAAC;EACToE,QAAQ,EAAE,gBADD;EAETC,UAAAA,6DAFS;;AAAA,CAAD,CAKiB,GAAd3D,cAAc,CAAd","sources":["./src/app/pages/registralu/registralu-routing.module.ts","./src/app/pages/registralu/registralu.module.ts","./src/app/pages/registralu/registralu.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegistraluPage } from './registralu.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegistraluPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegistraluPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegistraluPageRoutingModule } from './registralu-routing.module';\r\n\r\nimport { RegistraluPage } from './registralu.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegistraluPageRoutingModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  declarations: [RegistraluPage]\r\n})\r\nexport class RegistraluPageModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core'; \r\nimport { UsuarioAluService, Datos } from 'src/app/services/usuario-alu.service';\r\nimport { Platform, ToastController, IonList } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  FormGroup,\r\n  FormControl,\r\n  Validators,\r\n  FormBuilder,\r\n} from '@angular/forms';\r\nimport {AlertController} from '@ionic/angular';\r\n\r\ninterface Carrera{\r\n  name: string;\r\n  value: number;\r\n}\r\ninterface Semestre{\r\n  sem: string;\r\n  value: number;\r\n}\r\ninterface datousu{\r\n  id: number;\r\n  usuario: String,\r\n  contrasenna: String, \r\n  recontrasenna:String,   \r\n  carrera: String,\r\n  semestre: String,\r\n  modified: number\r\n}\r\n\r\n@Component({\r\n  selector: 'app-registralu',\r\n  templateUrl: './registralu.page.html',\r\n  styleUrls: ['./registralu.page.scss'],\r\n})\r\nexport class RegistraluPage implements OnInit {\r\n  datos: Datos[]= [];\r\n  formularioRegistro:FormGroup;\r\n  newUsuario: Datos = <Datos>{};\r\n  newDato: Datos= <Datos>{};\r\n  @ViewChild('myList')myList : IonList\r\n  data: Datos=<Datos>{};\r\n  usuario:datousu\r\n  usuarionue={\r\n    id: 0,\r\n    usuario:'',\r\n    contrasenna:'',  \r\n    recontrasenna:'',  \r\n    carrera:'',\r\n    semestre:'',\r\n    modified: 0,\r\n}\r\n  constructor(\r\n    private usuarioservice:UsuarioAluService,\r\n    private router:Router,\r\n    private storageService: UsuarioAluService,\r\n    private plt: Platform, private toastController: ToastController,\r\n    private alertController : AlertController,\r\n    private fb: FormBuilder) \r\n    {\r\n      this.formularioRegistro = this.fb.group({\r\n        'id': this.data.id,\r\n        'usuario': new FormControl(\"\", Validators.required),\r\n        'contrasenna': new FormControl(\"\", Validators.required),\r\n        'recontrasenna': new FormControl(\"\", Validators.required),\r\n        'carrera': new FormControl(\"\",Validators.required),\r\n        'semestre': new FormControl(\"\",Validators.required),\r\n        'modified': this.data.modified,\r\n      }\r\n    )\r\n      this.plt.ready().then(()=>{\r\n        this.loadDatos();   \r\n      })\r\n     }\r\n  //get\r\n  loadDatos(){\r\n    this.storageService.getDatos().then(dato=>{\r\n        this.datos=dato;\r\n    })\r\n  }\r\n  //Create\r\n  submitForm(){\r\n    var form = this.formularioRegistro.value;\r\n    var IsExist= false;\r\n    var IsValidPass= false;\r\n    if(this.formularioRegistro.invalid){\r\n      console.log(\"alerta error invalido\")\r\n    }\r\n    else{\r\n      this.newUsuario.usuario = form.usuario,\r\n      this.newUsuario.id = form.id,\r\n      this.newUsuario.contrasenna = form.contrasenna,\r\n      this.newUsuario.recontrasenna = form.recontrasenna,\r\n      this.newUsuario.modified = form.modified,\r\n      this.newUsuario.carrera = form.carrera,\r\n      this.newUsuario.semestre = form.semestre,\r\n      \r\n      this.usuarioservice.getDatos().then(data=>{\r\n        this.datos=data;\r\n        if(!data || data.length==0){\r\n          this.usuarioservice.addDatos(this.newUsuario).then(dato=>{\r\n            this.newUsuario=<Datos>{};\r\n            this.showToast('Â¡Usuario creado con exito!')\r\n          });\r\n        }\r\n        else{\r\n          for(let obj of this.datos){\r\n            if(this.newUsuario.usuario==obj.usuario){\r\n              IsExist=true;\r\n            }\r\n            if(this.newUsuario.contrasenna== this.newUsuario.recontrasenna){\r\n              IsValidPass=true;\r\n            }\r\n          }\r\n          if(IsExist){\r\n            console.log(\"ERROR, YA EXISTE, FALSO\")\r\n            this.formularioRegistro.reset();\r\n          }\r\n          else if(IsValidPass==false){\r\n            console.log(\"Reingrese su contrasenna y validacion\")\r\n            this.formularioRegistro.reset();\r\n          }\r\n          else{\r\n            this.usuarioservice.addDatos(this.newUsuario).then(data=>{\r\n              // var carreraTOUP=form.carrera.toUpperCase();\r\n              // if(carreraTOUP==\"INGENIERIA INFORMATICA\"||carreraTOUP==\"INGENIERA MECANICA\"||carreraTOUP==\"INGENIERIA COMERCIAL\"||carreraTOUP==\"INGENIERIA EN COMERCIO EXTERIOR\"||carreraTOUP==\"ingenieria en comercio exterior\"){\r\n                this.router.navigate(['inisespro'])    \r\n                console.log(\"No existe el usuario, se permite registrar\")\r\n              // }\r\n              // else{\r\n              //   console.log(\"Necesita ingresar Ingenieria Informatica, ingenieria mecanica, Ingenieria comercial, Ingenieria en comercio exterior \")\r\n              // }\r\n              this.newUsuario=<Datos>{};\r\n              this.showToast(\"Se creo usuario\")\r\n            }); \r\n            this.formularioRegistro.reset();\r\n\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  //update\r\n  updateDatos(dato:Datos){\r\n    dato.usuario= `UPDATED: ${dato.usuario}`;\r\n    dato.modified= Date.now();\r\n    this.storageService.updateDatos(dato).then(item=>{\r\n      this.showToast('Elemento Actualizado!')\r\n      this.myList.closeSlidingItems();\r\n      this.loadDatos();\r\n    })\r\n  }\r\n  //delete\r\n  deleteDatos(dato:Datos){\r\n    this.storageService.deleteDatos(dato.id).then(item=>{\r\n      this.showToast('Elemento Eliminado!');\r\n      this.myList.closeSlidingItems();\r\n      this.loadDatos();\r\n    })\r\n  }\r\n  async showToast(msg){\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration:2000\r\n    });\r\n    toast.present();\r\n  }\r\n  ngOnInit() {\r\n\r\n  }\r\n  carrera: Carrera[]=[\r\n    {\r\n      name: 'Ingenieria Informatica',\r\n      value: 1,\r\n    },\r\n    {\r\n      name: 'Analista Programador',\r\n      value: 2,\r\n    },\r\n    {\r\n      name: 'Ingenieria Mecanica',\r\n      value: 3,\r\n    },\r\n    {\r\n      name: 'Auditor contador',\r\n      value: 4,\r\n    },\r\n    \r\n  ];\r\n  semestre: Semestre[]=[\r\n    {\r\n      sem: 'Primer semestre',\r\n      value: 1,\r\n    },\r\n    {\r\n      sem: 'Segundo Semestre',\r\n      value: 2,\r\n    },\r\n    {\r\n      sem: 'Tercer semestre',\r\n      value: 3,\r\n    },\r\n    {\r\n      sem: 'Cuarto Semestre',\r\n      value: 4,\r\n    },\r\n    \r\n  ];\r\n}"],"names":["Component","ViewChild","UsuarioAluService","Platform","ToastController","Router","FormControl","Validators","FormBuilder","AlertController","RegistraluPage","constructor","usuarioservice","router","storageService","plt","toastController","alertController","fb","id","usuario","contrasenna","recontrasenna","carrera","semestre","modified","name","value","sem","formularioRegistro","group","data","required","ready","then","loadDatos","getDatos","dato","datos","submitForm","form","IsExist","IsValidPass","invalid","console","log","newUsuario","length","addDatos","showToast","obj","reset","navigate","updateDatos","Date","now","item","myList","closeSlidingItems","deleteDatos","msg","toast","create","message","duration","present","ngOnInit","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}